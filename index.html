<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="d3_json_styles.css" />
    <meta http-equiv="Cache-Control" content="no-store" />


    <script src="http://d3js.org/d3.v3.min.js"></script>
Â <script src="http://d3js.org/topojson.v1.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js'></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
  </head>
  <body>
    <button id="zoom_in">+</button>
  <button id="zoom_out">-</button>
    <input type="file" id="fileinput" />
    <div id="the_map"><img id="loading" src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"></div>
    <script src="zooming.js"></script>
    <script src="d3_map_setup.js"></script>

    <script src="alter_and_map_json.js"></script>
    <script src="json_to_map.js"></script>

    <script type="text/javascript">
      function readSingleFile(evt) {
        //Retrieve the first (and only!) File from the FileList object
        var f = evt.target.files[0];
        if (f) {
          var r = new FileReader();
          r.onload = function(e) {
    	      var contents = e.target.result;
            var contentsArray = contents.split(/\r?\n|\r/);
            alter_and_map_json(contentsArray)
          }
          r.readAsText(f);
        } else {
          alert("Failed to load file");
        }
      }

      document.getElementById('fileinput').addEventListener('change', readSingleFile, false);
    </script>

  </body>
</html>
